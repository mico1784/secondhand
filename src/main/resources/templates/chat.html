<!doctype html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Chat</title>
    <link rel="icon" type="image/jpg" href="/images/logo.jpg" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="/css/chat.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/nav.css">
    <script src="/js/nav.js" defer></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
<div class="fix">
    <div th:replace="~{nav.html::navbar}"></div>
</div>

<!-- 전체 채팅 레이아웃을 감싸는 새로운 컨테이너 -->
<div class="chat-wrapper">
    <div class="chat-container">

        <!-- 왼쪽: 전체 대화 목록 -->
        <div class="chat-list">
            <h2>전체 대화</h2>
            <div class="chat-item">
                <!-- 채팅방 목록 나열 -->
            </div>
            <!-- 여기서 더 많은 채팅 목록 아이템을 추가할 수 있습니다 -->
        </div>

        <!-- 오른쪽: 현재 채팅 창 -->
        <div class="chat-window">
            <div class="chat-header">
                <h3>SecondHand</h3>
                <p>SecondHand의 공식상점입니다</p>
            </div>

            <!-- 채팅 메시지 영역 -->
            <div class="chat-messages" id="chating">
                <!-- 예시 메시지: 실제 데이터베이스에서 메시지를 불러와서 이곳에 추가합니다 -->
            </div>

            <!-- 메시지 입력 영역 -->
            <div class="chat-input" id="yourMsg">
                <input type="hidden" id="itemId" th:value="${itemId}">
                <input type="hidden" id="sessionId" value="">
                <input type="hidden" id="roomNo" th:value="${roomNo}">
                <input type="hidden" id="username" th:value="${myName}">

                <!-- 이미지 업로드 필드 -->
                <div class="chat-img-box">
                <label class="up-Img-btn" for="uploadImg">파일선택</label>
                <input type="file" name="uploadImg" id="uploadImg" accept="image/*">
                </div>

                <!-- 메시지 입력 필드 -->
                <textarea id="chatting" class="chatting-input" placeholder="보내실 메시지를 입력하세요." rows="4"></textarea>

                <!-- 전송 버튼 -->
                <button onclick="send()" id="sendBtn" class="sendBtn">보내기</button>
            </div>
        </div>
    </div>
</div>
<input type="hidden" id="myNameCheck" th:value="${myName}">
<script src="/js/chat.js" defer></script>
<script src="/js/room.js" defer></script>
</body>
</html>
